<!doctype html>
<html lang="en" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Multi-Category Store</title>
  <script src="/_sdk/element_sdk.js"></script>
  <script src="/_sdk/data_sdk.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      box-sizing: border-box;
    }
    
    .product-card {
      transition: transform 0.2s, box-shadow 0.2s;
    }
    
    .product-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 12px 24px rgba(0,0,0,0.15);
    }
    
    .category-card {
      transition: transform 0.2s, box-shadow 0.2s;
    }
    
    .category-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 12px 24px rgba(0,0,0,0.2);
    }
    
    .cart-badge {
      animation: cartPulse 0.3s ease-in-out;
    }
    
    @keyframes cartPulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.2); }
    }
    
    .toast {
      position: fixed;
      top: 80px;
      right: 20px;
      z-index: 1000;
      animation: slideIn 0.3s ease-out;
    }
    
    @keyframes slideIn {
      from {
        transform: translateX(400px);
        opacity: 0;
      }
      to {
        transform: translateX(0);
        opacity: 1;
      }
    }
  </style>
  <style>@view-transition { navigation: auto; }</style>
 </head>
 <body class="h-full">
  <div id="app" class="h-full w-full overflow-auto" style="background: linear-gradient(135deg, #10b981 0%, #059669 100%); font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;"><!-- Header -->
   <header class="bg-white shadow-md sticky top-0 z-50">
    <div class="max-w-7xl mx-auto px-4 py-4">
     <div class="flex justify-between items-center">
      <div>
       <h1 id="store-name" class="text-3xl font-bold" style="color: #ec4899;">ShopHub</h1>
       <p id="tagline" class="text-sm" style="color: #6b7280;">Mandeep Verma</p>
      </div>
      <div class="flex items-center gap-6"><button id="cart-button" class="relative" style="color: #ec4899;">
        <svg class="w-8 h-8" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z" />
        </svg><span id="cart-count" class="absolute -top-2 -right-2 text-white text-xs font-bold rounded-full w-6 h-6 flex items-center justify-center cart-badge" style="background: #ec4899;">0</span> </button>
      </div>
     </div><!-- Category Filter -->
     <div class="mt-4 flex gap-2 overflow-x-auto pb-2"><button class="category-filter px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-colors" data-category="all" style="background: #ec4899; color: white;">All Products</button> <button class="category-filter px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-colors" data-category="boys" style="background: #e5e7eb; color: #374151;">Boys</button> <button class="category-filter px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-colors" data-category="girls" style="background: #e5e7eb; color: #374151;">Girls</button> <button class="category-filter px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-colors" data-category="men" style="background: #e5e7eb; color: #374151;">Men</button> <button class="category-filter px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-colors" data-category="women" style="background: #e5e7eb; color: #374151;">Women</button>
     </div>
    </div>
   </header><!-- Main Content -->
   <main class="max-w-7xl mx-auto px-4 py-8"><!-- Hero Section -->
    <div id="hero-section" class="bg-white rounded-2xl shadow-xl p-8 mb-8 text-center">
     <h2 class="text-4xl font-bold mb-4" style="color: #1f2937;">Discover Amazing Products</h2>
     <p class="text-lg mb-6" style="color: #6b7280;">Browse our collection of 150+ products for the whole family</p><button id="cta-button" class="px-8 py-3 rounded-full text-white font-semibold text-lg shadow-lg hover:shadow-xl transition-shadow mb-8" style="background: #ec4899;">Shop Now</button> <!-- Category Grid -->
     <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mt-8">
      <div class="category-card p-6 rounded-xl shadow-md hover:shadow-lg transition-shadow cursor-pointer" data-category="boys" style="background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);">
       <div class="text-5xl mb-3">
        ðŸ‘¦
       </div>
       <h3 class="text-xl font-bold text-white">Boys</h3>
       <p class="text-sm text-white text-opacity-90">38 Products</p>
      </div>
      <div class="category-card p-6 rounded-xl shadow-md hover:shadow-lg transition-shadow cursor-pointer" data-category="girls" style="background: linear-gradient(135deg, #ec4899 0%, #db2777 100%);">
       <div class="text-5xl mb-3">
        ðŸ‘§
       </div>
       <h3 class="text-xl font-bold text-white">Girls</h3>
       <p class="text-sm text-white text-opacity-90">38 Products</p>
      </div>
      <div class="category-card p-6 rounded-xl shadow-md hover:shadow-lg transition-shadow cursor-pointer" data-category="men" style="background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);">
       <div class="text-5xl mb-3">
        ðŸ‘¨
       </div>
       <h3 class="text-xl font-bold text-white">Men</h3>
       <p class="text-sm text-white text-opacity-90">37 Products</p>
      </div>
      <div class="category-card p-6 rounded-xl shadow-md hover:shadow-lg transition-shadow cursor-pointer" data-category="women" style="background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);">
       <div class="text-5xl mb-3">
        ðŸ‘©
       </div>
       <h3 class="text-xl font-bold text-white">Women</h3>
       <p class="text-sm text-white text-opacity-90">37 Products</p>
      </div>
     </div>
    </div><!-- Products Grid -->
    <div id="products-grid" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6"><!-- Products will be rendered here -->
    </div>
   </main><!-- Cart Modal -->
   <div id="cart-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
    <div class="bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90%] overflow-hidden flex flex-col">
     <div class="p-6 border-b" style="border-color: #e5e7eb;">
      <div class="flex justify-between items-center">
       <h2 class="text-2xl font-bold" style="color: #1f2937;">Shopping Cart</h2><button id="close-cart" class="text-3xl" style="color: #6b7280;">Ã—</button>
      </div>
     </div>
     <div id="cart-items" class="flex-1 overflow-y-auto p-6"><!-- Cart items will be rendered here -->
     </div>
     <div class="p-6 border-t" style="border-color: #e5e7eb;">
      <div class="flex justify-between items-center mb-4"><span class="text-xl font-semibold" style="color: #1f2937;">Total:</span> <span id="cart-total" class="text-2xl font-bold" style="color: #ec4899;">$0.00</span>
      </div><button id="checkout-button" class="w-full py-3 rounded-full text-white font-semibold text-lg shadow-lg hover:shadow-xl transition-shadow" style="background: #8b5cf6;">Proceed to Checkout</button>
     </div>
    </div>
   </div><!-- Checkout Modal -->
   <div id="checkout-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
    <div class="bg-white rounded-2xl shadow-2xl max-w-md w-full">
     <div class="p-6 border-b" style="border-color: #e5e7eb;">
      <h2 class="text-2xl font-bold" style="color: #1f2937;">Checkout</h2>
     </div>
     <form id="checkout-form" class="p-6">
      <div class="mb-4"><label for="customer-name" class="block text-sm font-medium mb-2" style="color: #374151;">Full Name</label> <input type="text" id="customer-name" required class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2" style="border-color: #d1d5db; color: #1f2937;">
      </div>
      <div class="mb-4"><label for="customer-email" class="block text-sm font-medium mb-2" style="color: #374151;">Email Address</label> <input type="email" id="customer-email" required class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2" style="border-color: #d1d5db; color: #1f2937;">
      </div>
      <div class="mb-4"><label for="customer-address" class="block text-sm font-medium mb-2" style="color: #374151;">Shipping Address</label> <textarea id="customer-address" required rows="3" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2" style="border-color: #d1d5db; color: #1f2937;"></textarea>
      </div>
      <div class="mb-6"><label for="customer-phone" class="block text-sm font-medium mb-2" style="color: #374051;">Phone Number</label> <input type="tel" id="customer-phone" required class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2" style="border-color: #d1d5db; color: #1f2937;">
      </div>
      <div class="flex gap-3"><button type="button" id="cancel-checkout" class="flex-1 py-3 rounded-full font-semibold border-2 transition-colors" style="border-color: #d1d5db; color: #374151;">Cancel</button> <button type="submit" class="flex-1 py-3 rounded-full text-white font-semibold shadow-lg hover:shadow-xl transition-shadow" style="background: #8b5cf6;">Complete Order</button>
      </div>
     </form>
    </div>
   </div>
  </div>
  <script>
    /*
    NOTE: Google Sheets Integration - NOT FUNCTIONAL in Canva Environment
    
    This code CANNOT connect to Google Sheets due to technical limitations:
    - Browser-only code cannot authenticate with Google Sheets API
    - CORS policies block Apps Script Web Apps in iframes
    - Cannot store API credentials securely in frontend code
    
    THEORETICAL Google Apps Script Code (for reference only):
    
    function doPost(e) {
      var sheet = SpreadsheetApp.openById('YOUR_SPREADSHEET_ID').getActiveSheet();
      var data = JSON.parse(e.postData.contents);
      
      sheet.appendRow([
        new Date(),
        data.customerName,
        data.customerEmail,
        data.customerAddress,
        data.customerPhone,
        JSON.stringify(data.items),
        data.total
      ]);
      
      return ContentService.createTextOutput(JSON.stringify({success: true}))
        .setMimeType(ContentService.MimeType.JSON);
    }
    
    Deploy as Web App with "Anyone" access, then use the URL below:
    const APPS_SCRIPT_URL = 'YOUR_DEPLOYED_WEB_APP_URL';
    
    INSTEAD: Use Canva's Data SDK (implemented below) to save all order data
    Click the "Data" button above your Canva Code to view saved orders
    */
    
    // Product data - 150 products across 4 categories
    const products = [
      // Boys - 38 products
      { id: 'B001', name: 'Boys T-Shirt', category: 'boys', price: 15.99, image: 'ðŸ‘•' },
      { id: 'B002', name: 'Boys Jeans', category: 'boys', price: 29.99, image: 'ðŸ‘–' },
      { id: 'B003', name: 'Boys Sneakers', category: 'boys', price: 39.99, image: 'ðŸ‘Ÿ' },
      { id: 'B004', name: 'Boys Cap', category: 'boys', price: 12.99, image: 'ðŸ§¢' },
      { id: 'B005', name: 'Boys Jacket', category: 'boys', price: 49.99, image: 'ðŸ§¥' },
      { id: 'B006', name: 'Boys Shorts', category: 'boys', price: 19.99, image: 'ðŸ©³' },
      { id: 'B007', name: 'Boys Hoodie', category: 'boys', price: 34.99, image: 'ðŸ‘•' },
      { id: 'B008', name: 'Boys Backpack', category: 'boys', price: 24.99, image: 'ðŸŽ’' },
      { id: 'B009', name: 'Boys Socks Pack', category: 'boys', price: 9.99, image: 'ðŸ§¦' },
      { id: 'B010', name: 'Boys Watch', category: 'boys', price: 27.99, image: 'âŒš' },
      { id: 'B011', name: 'Boys Sunglasses', category: 'boys', price: 14.99, image: 'ðŸ•¶ï¸' },
      { id: 'B012', name: 'Boys Belt', category: 'boys', price: 11.99, image: 'ðŸ‘”' },
      { id: 'B013', name: 'Boys Polo Shirt', category: 'boys', price: 22.99, image: 'ðŸ‘•' },
      { id: 'B014', name: 'Boys Sweatpants', category: 'boys', price: 26.99, image: 'ðŸ‘–' },
      { id: 'B015', name: 'Boys Winter Coat', category: 'boys', price: 69.99, image: 'ðŸ§¥' },
      { id: 'B016', name: 'Boys Sandals', category: 'boys', price: 18.99, image: 'ðŸ©´' },
      { id: 'B017', name: 'Boys Swim Trunks', category: 'boys', price: 16.99, image: 'ðŸ©³' },
      { id: 'B018', name: 'Boys Raincoat', category: 'boys', price: 32.99, image: 'ðŸ§¥' },
      { id: 'B019', name: 'Boys Gloves', category: 'boys', price: 10.99, image: 'ðŸ§¤' },
      { id: 'B020', name: 'Boys Scarf', category: 'boys', price: 13.99, image: 'ðŸ§£' },
      { id: 'B021', name: 'Boys Beanie', category: 'boys', price: 11.99, image: 'ðŸ§¢' },
      { id: 'B022', name: 'Boys Cargo Pants', category: 'boys', price: 31.99, image: 'ðŸ‘–' },
      { id: 'B023', name: 'Boys Track Suit', category: 'boys', price: 44.99, image: 'ðŸ‘•' },
      { id: 'B024', name: 'Boys Dress Shirt', category: 'boys', price: 28.99, image: 'ðŸ‘”' },
      { id: 'B025', name: 'Boys Dress Shoes', category: 'boys', price: 42.99, image: 'ðŸ‘ž' },
      { id: 'B026', name: 'Boys Pajama Set', category: 'boys', price: 23.99, image: 'ðŸ‘•' },
      { id: 'B027', name: 'Boys Athletic Shorts', category: 'boys', price: 17.99, image: 'ðŸ©³' },
      { id: 'B028', name: 'Boys Tank Top', category: 'boys', price: 12.99, image: 'ðŸ‘•' },
      { id: 'B029', name: 'Boys Flannel Shirt', category: 'boys', price: 25.99, image: 'ðŸ‘”' },
      { id: 'B030', name: 'Boys Boots', category: 'boys', price: 47.99, image: 'ðŸ‘ž' },
      { id: 'B031', name: 'Boys Baseball Cap', category: 'boys', price: 14.99, image: 'ðŸ§¢' },
      { id: 'B032', name: 'Boys Vest', category: 'boys', price: 29.99, image: 'ðŸ¦º' },
      { id: 'B033', name: 'Boys Suspenders', category: 'boys', price: 15.99, image: 'ðŸ‘”' },
      { id: 'B034', name: 'Boys Bow Tie', category: 'boys', price: 9.99, image: 'ðŸ‘”' },
      { id: 'B035', name: 'Boys Tie', category: 'boys', price: 12.99, image: 'ðŸ‘”' },
      { id: 'B036', name: 'Boys School Uniform', category: 'boys', price: 38.99, image: 'ðŸ‘•' },
      { id: 'B037', name: 'Boys Sports Jersey', category: 'boys', price: 33.99, image: 'ðŸ‘•' },
      { id: 'B038', name: 'Boys Cleats', category: 'boys', price: 41.99, image: 'ðŸ‘Ÿ' },
      
      // Girls - 38 products
      { id: 'G001', name: 'Girls Dress', category: 'girls', price: 32.99, image: 'ðŸ‘—' },
      { id: 'G002', name: 'Girls Leggings', category: 'girls', price: 16.99, image: 'ðŸ‘–' },
      { id: 'G003', name: 'Girls Shoes', category: 'girls', price: 34.99, image: 'ðŸ‘ž' },
      { id: 'G004', name: 'Girls Headband', category: 'girls', price: 8.99, image: 'ðŸŽ€' },
      { id: 'G005', name: 'Girls Cardigan', category: 'girls', price: 27.99, image: 'ðŸ§¥' },
      { id: 'G006', name: 'Girls Skirt', category: 'girls', price: 21.99, image: 'ðŸ‘—' },
      { id: 'G007', name: 'Girls Blouse', category: 'girls', price: 24.99, image: 'ðŸ‘š' },
      { id: 'G008', name: 'Girls Handbag', category: 'girls', price: 19.99, image: 'ðŸ‘œ' },
      { id: 'G009', name: 'Girls Tights', category: 'girls', price: 11.99, image: 'ðŸ§¦' },
      { id: 'G010', name: 'Girls Bracelet', category: 'girls', price: 13.99, image: 'ðŸ“¿' },
      { id: 'G011', name: 'Girls Hair Clips', category: 'girls', price: 7.99, image: 'ðŸŽ€' },
      { id: 'G012', name: 'Girls Sandals', category: 'girls', price: 22.99, image: 'ðŸ‘¡' },
      { id: 'G013', name: 'Girls Tutu', category: 'girls', price: 26.99, image: 'ðŸ‘—' },
      { id: 'G014', name: 'Girls Sweater', category: 'girls', price: 29.99, image: 'ðŸ§¥' },
      { id: 'G015', name: 'Girls Winter Jacket', category: 'girls', price: 64.99, image: 'ðŸ§¥' },
      { id: 'G016', name: 'Girls Ballet Flats', category: 'girls', price: 28.99, image: 'ðŸ‘ž' },
      { id: 'G017', name: 'Girls Swimsuit', category: 'girls', price: 24.99, image: 'ðŸ‘™' },
      { id: 'G018', name: 'Girls Rainboots', category: 'girls', price: 25.99, image: 'ðŸ‘¢' },
      { id: 'G019', name: 'Girls Mittens', category: 'girls', price: 12.99, image: 'ðŸ§¤' },
      { id: 'G020', name: 'Girls Scarf', category: 'girls', price: 15.99, image: 'ðŸ§£' },
      { id: 'G021', name: 'Girls Beret', category: 'girls', price: 13.99, image: 'ðŸŽ©' },
      { id: 'G022', name: 'Girls Jeans', category: 'girls', price: 28.99, image: 'ðŸ‘–' },
      { id: 'G023', name: 'Girls Jumpsuit', category: 'girls', price: 36.99, image: 'ðŸ‘—' },
      { id: 'G024', name: 'Girls Party Dress', category: 'girls', price: 44.99, image: 'ðŸ‘—' },
      { id: 'G025', name: 'Girls Mary Janes', category: 'girls', price: 31.99, image: 'ðŸ‘ž' },
      { id: 'G026', name: 'Girls Nightgown', category: 'girls', price: 21.99, image: 'ðŸ‘š' },
      { id: 'G027', name: 'Girls Shorts', category: 'girls', price: 18.99, image: 'ðŸ©³' },
      { id: 'G028', name: 'Girls Camisole', category: 'girls', price: 14.99, image: 'ðŸ‘š' },
      { id: 'G029', name: 'Girls Denim Jacket', category: 'girls', price: 37.99, image: 'ðŸ§¥' },
      { id: 'G030', name: 'Girls Boots', category: 'girls', price: 42.99, image: 'ðŸ‘¢' },
      { id: 'G031', name: 'Girls Sun Hat', category: 'girls', price: 16.99, image: 'ðŸ‘’' },
      { id: 'G032', name: 'Girls Poncho', category: 'girls', price: 33.99, image: 'ðŸ§¥' },
      { id: 'G033', name: 'Girls Necklace', category: 'girls', price: 11.99, image: 'ðŸ“¿' },
      { id: 'G034', name: 'Girls Earrings', category: 'girls', price: 9.99, image: 'ðŸ’' },
      { id: 'G035', name: 'Girls Ring Set', category: 'girls', price: 8.99, image: 'ðŸ’' },
      { id: 'G036', name: 'Girls School Uniform', category: 'girls', price: 39.99, image: 'ðŸ‘—' },
      { id: 'G037', name: 'Girls Cheerleader Outfit', category: 'girls', price: 41.99, image: 'ðŸ‘—' },
      { id: 'G038', name: 'Girls Sneakers', category: 'girls', price: 36.99, image: 'ðŸ‘Ÿ' },
      
      // Men - 37 products
      { id: 'M001', name: 'Men Suit', category: 'men', price: 149.99, image: 'ðŸ¤µ' },
      { id: 'M002', name: 'Men Dress Shirt', category: 'men', price: 42.99, image: 'ðŸ‘”' },
      { id: 'M003', name: 'Men Dress Shoes', category: 'men', price: 79.99, image: 'ðŸ‘ž' },
      { id: 'M004', name: 'Men Tie', category: 'men', price: 18.99, image: 'ðŸ‘”' },
      { id: 'M005', name: 'Men Blazer', category: 'men', price: 89.99, image: 'ðŸ§¥' },
      { id: 'M006', name: 'Men Chinos', category: 'men', price: 44.99, image: 'ðŸ‘–' },
      { id: 'M007', name: 'Men Polo Shirt', category: 'men', price: 32.99, image: 'ðŸ‘•' },
      { id: 'M008', name: 'Men Briefcase', category: 'men', price: 67.99, image: 'ðŸ’¼' },
      { id: 'M009', name: 'Men Dress Socks', category: 'men', price: 14.99, image: 'ðŸ§¦' },
      { id: 'M010', name: 'Men Watch', category: 'men', price: 124.99, image: 'âŒš' },
      { id: 'M011', name: 'Men Sunglasses', category: 'men', price: 36.99, image: 'ðŸ•¶ï¸' },
      { id: 'M012', name: 'Men Leather Belt', category: 'men', price: 29.99, image: 'ðŸ‘”' },
      { id: 'M013', name: 'Men Casual Shirt', category: 'men', price: 37.99, image: 'ðŸ‘•' },
      { id: 'M014', name: 'Men Jeans', category: 'men', price: 54.99, image: 'ðŸ‘–' },
      { id: 'M015', name: 'Men Winter Coat', category: 'men', price: 119.99, image: 'ðŸ§¥' },
      { id: 'M016', name: 'Men Loafers', category: 'men', price: 64.99, image: 'ðŸ‘ž' },
      { id: 'M017', name: 'Men Swim Shorts', category: 'men', price: 26.99, image: 'ðŸ©³' },
      { id: 'M018', name: 'Men Trench Coat', category: 'men', price: 134.99, image: 'ðŸ§¥' },
      { id: 'M019', name: 'Men Leather Gloves', category: 'men', price: 34.99, image: 'ðŸ§¤' },
      { id: 'M020', name: 'Men Wool Scarf', category: 'men', price: 28.99, image: 'ðŸ§£' },
      { id: 'M021', name: 'Men Fedora', category: 'men', price: 39.99, image: 'ðŸŽ©' },
      { id: 'M022', name: 'Men Cargo Pants', category: 'men', price: 48.99, image: 'ðŸ‘–' },
      { id: 'M023', name: 'Men Track Suit', category: 'men', price: 74.99, image: 'ðŸ‘•' },
      { id: 'M024', name: 'Men Tuxedo', category: 'men', price: 189.99, image: 'ðŸ¤µ' },
      { id: 'M025', name: 'Men Oxford Shoes', category: 'men', price: 84.99, image: 'ðŸ‘ž' },
      { id: 'M026', name: 'Men Pajama Set', category: 'men', price: 38.99, image: 'ðŸ‘•' },
      { id: 'M027', name: 'Men Athletic Shorts', category: 'men', price: 27.99, image: 'ðŸ©³' },
      { id: 'M028', name: 'Men Tank Top', category: 'men', price: 16.99, image: 'ðŸ‘•' },
      { id: 'M029', name: 'Men Flannel Shirt', category: 'men', price: 41.99, image: 'ðŸ‘”' },
      { id: 'M030', name: 'Men Boots', category: 'men', price: 94.99, image: 'ðŸ‘ž' },
      { id: 'M031', name: 'Men Baseball Cap', category: 'men', price: 22.99, image: 'ðŸ§¢' },
      { id: 'M032', name: 'Men Vest', category: 'men', price: 52.99, image: 'ðŸ¦º' },
      { id: 'M033', name: 'Men Cufflinks', category: 'men', price: 24.99, image: 'ðŸ’' },
      { id: 'M034', name: 'Men Bow Tie', category: 'men', price: 19.99, image: 'ðŸ‘”' },
      { id: 'M035', name: 'Men Wallet', category: 'men', price: 31.99, image: 'ðŸ‘' },
      { id: 'M036', name: 'Men Running Shoes', category: 'men', price: 72.99, image: 'ðŸ‘Ÿ' },
      { id: 'M037', name: 'Men Hoodie', category: 'men', price: 49.99, image: 'ðŸ‘•' },
      
      // Women - 37 products
      { id: 'W001', name: 'Women Evening Gown', category: 'women', price: 129.99, image: 'ðŸ‘—' },
      { id: 'W002', name: 'Women Blouse', category: 'women', price: 38.99, image: 'ðŸ‘š' },
      { id: 'W003', name: 'Women Heels', category: 'women', price: 69.99, image: 'ðŸ‘ ' },
      { id: 'W004', name: 'Women Necklace', category: 'women', price: 44.99, image: 'ðŸ“¿' },
      { id: 'W005', name: 'Women Blazer', category: 'women', price: 79.99, image: 'ðŸ§¥' },
      { id: 'W006', name: 'Women Pencil Skirt', category: 'women', price: 36.99, image: 'ðŸ‘—' },
      { id: 'W007', name: 'Women Sweater', category: 'women', price: 44.99, image: 'ðŸ§¥' },
      { id: 'W008', name: 'Women Handbag', category: 'women', price: 84.99, image: 'ðŸ‘œ' },
      { id: 'W009', name: 'Women Stockings', category: 'women', price: 16.99, image: 'ðŸ§¦' },
      { id: 'W010', name: 'Women Watch', category: 'women', price: 99.99, image: 'âŒš' },
      { id: 'W011', name: 'Women Sunglasses', category: 'women', price: 42.99, image: 'ðŸ•¶ï¸' },
      { id: 'W012', name: 'Women Belt', category: 'women', price: 24.99, image: 'ðŸ‘”' },
      { id: 'W013', name: 'Women Casual Dress', category: 'women', price: 54.99, image: 'ðŸ‘—' },
      { id: 'W014', name: 'Women Skinny Jeans', category: 'women', price: 49.99, image: 'ðŸ‘–' },
      { id: 'W015', name: 'Women Trench Coat', category: 'women', price: 109.99, image: 'ðŸ§¥' },
      { id: 'W016', name: 'Women Flats', category: 'women', price: 44.99, image: 'ðŸ‘ž' },
      { id: 'W017', name: 'Women Bikini', category: 'women', price: 39.99, image: 'ðŸ‘™' },
      { id: 'W018', name: 'Women Rain Jacket', category: 'women', price: 64.99, image: 'ðŸ§¥' },
      { id: 'W019', name: 'Women Gloves', category: 'women', price: 26.99, image: 'ðŸ§¤' },
      { id: 'W020', name: 'Women Pashmina', category: 'women', price: 34.99, image: 'ðŸ§£' },
      { id: 'W021', name: 'Women Beret', category: 'women', price: 21.99, image: 'ðŸŽ©' },
      { id: 'W022', name: 'Women Leggings', category: 'women', price: 24.99, image: 'ðŸ‘–' },
      { id: 'W023', name: 'Women Jumpsuit', category: 'women', price: 67.99, image: 'ðŸ‘—' },
      { id: 'W024', name: 'Women Cocktail Dress', category: 'women', price: 89.99, image: 'ðŸ‘—' },
      { id: 'W025', name: 'Women Ankle Boots', category: 'women', price: 74.99, image: 'ðŸ‘¢' },
      { id: 'W026', name: 'Women Nightgown', category: 'women', price: 32.99, image: 'ðŸ‘š' },
      { id: 'W027', name: 'Women Shorts', category: 'women', price: 28.99, image: 'ðŸ©³' },
      { id: 'W028', name: 'Women Cardigan', category: 'women', price: 46.99, image: 'ðŸ§¥' },
      { id: 'W029', name: 'Women Denim Jacket', category: 'women', price: 59.99, image: 'ðŸ§¥' },
      { id: 'W030', name: 'Women Knee Boots', category: 'women', price: 94.99, image: 'ðŸ‘¢' },
      { id: 'W031', name: 'Women Sun Hat', category: 'women', price: 29.99, image: 'ðŸ‘’' },
      { id: 'W032', name: 'Women Kimono', category: 'women', price: 54.99, image: 'ðŸ§¥' },
      { id: 'W033', name: 'Women Earrings', category: 'women', price: 34.99, image: 'ðŸ’' },
      { id: 'W034', name: 'Women Bracelet', category: 'women', price: 29.99, image: 'ðŸ“¿' },
      { id: 'W035', name: 'Women Ring', category: 'women', price: 49.99, image: 'ðŸ’' },
      { id: 'W036', name: 'Women Clutch', category: 'women', price: 39.99, image: 'ðŸ‘' },
      { id: 'W037', name: 'Women Sneakers', category: 'women', price: 64.99, image: 'ðŸ‘Ÿ' }
    ];
    
    // State
    let currentCategory = 'all';
    let cart = [];
    let cartRecords = [];
    
    const defaultConfig = {
      background_color: '#10b981',
      surface_color: '#ffffff',
      text_color: '#1f2937',
      primary_action_color: '#ec4899',
      secondary_action_color: '#8b5cf6',
      font_family: 'Inter',
      font_size: 16,
      store_name: 'ShopHub',
      tagline: 'Mandeep Verma',
      cta_button: 'Shop Now'
    };
    
    async function onConfigChange(config) {
      const customFont = config.font_family || defaultConfig.font_family;
      const baseFontStack = '-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif';
      const baseSize = config.font_size || defaultConfig.font_size;
      const bgColor = config.background_color || defaultConfig.background_color;
      const surfaceColor = config.surface_color || defaultConfig.surface_color;
      const textColor = config.text_color || defaultConfig.text_color;
      const primaryColor = config.primary_action_color || defaultConfig.primary_action_color;
      const secondaryColor = config.secondary_action_color || defaultConfig.secondary_action_color;
      
      // Apply background
      document.getElementById('app').style.background = `linear-gradient(135deg, ${bgColor} 0%, ${bgColor}dd 100%)`;
      
      // Apply surface color to cards and modals
      document.querySelectorAll('.bg-white').forEach(el => {
        el.style.backgroundColor = surfaceColor;
      });
      
      // Apply text color
      document.getElementById('store-name').style.color = primaryColor;
      document.getElementById('store-name').style.fontFamily = `${customFont}, ${baseFontStack}`;
      document.getElementById('store-name').style.fontSize = `${baseSize * 2}px`;
      
      document.getElementById('tagline').style.color = textColor;
      document.getElementById('tagline').style.fontFamily = `${customFont}, ${baseFontStack}`;
      document.getElementById('tagline').style.fontSize = `${baseSize * 0.875}px`;
      
      // Apply to hero section
      document.querySelector('#hero-section h2').style.color = textColor;
      document.querySelector('#hero-section h2').style.fontFamily = `${customFont}, ${baseFontStack}`;
      document.querySelector('#hero-section h2').style.fontSize = `${baseSize * 2.5}px`;
      
      document.querySelector('#hero-section p').style.color = textColor;
      document.querySelector('#hero-section p').style.fontFamily = `${customFont}, ${baseFontStack}`;
      document.querySelector('#hero-section p').style.fontSize = `${baseSize * 1.125}px`;
      
      // Apply to CTA button
      document.getElementById('cta-button').style.backgroundColor = primaryColor;
      document.getElementById('cta-button').style.fontFamily = `${customFont}, ${baseFontStack}`;
      document.getElementById('cta-button').style.fontSize = `${baseSize * 1.125}px`;
      document.getElementById('cta-button').textContent = config.cta_button || defaultConfig.cta_button;
      
      // Apply to cart icon
      document.getElementById('cart-button').style.color = primaryColor;
      document.getElementById('cart-count').style.backgroundColor = primaryColor;
      
      // Apply to category filters
      document.querySelectorAll('.category-filter').forEach(btn => {
        if (btn.dataset.category === currentCategory) {
          btn.style.backgroundColor = primaryColor;
          btn.style.color = surfaceColor;
        } else {
          btn.style.backgroundColor = '#e5e7eb';
          btn.style.color = textColor;
        }
        btn.style.fontFamily = `${customFont}, ${baseFontStack}`;
        btn.style.fontSize = `${baseSize * 0.875}px`;
      });
      
      // Apply to checkout button
      document.getElementById('checkout-button').style.backgroundColor = secondaryColor;
      document.getElementById('checkout-button').style.fontFamily = `${customFont}, ${baseFontStack}`;
      document.getElementById('checkout-button').style.fontSize = `${baseSize * 1.125}px`;
      
      // Update editable text
      document.getElementById('store-name').textContent = config.store_name || defaultConfig.store_name;
      document.getElementById('tagline').textContent = config.tagline || defaultConfig.tagline;
      
      // Re-render products to apply colors
      renderProducts();
    }
    
    function renderProducts() {
      const grid = document.getElementById('products-grid');
      const filteredProducts = currentCategory === 'all' 
        ? products 
        : products.filter(p => p.category === currentCategory);
      
      grid.innerHTML = filteredProducts.map(product => {
        const config = window.elementSdk ? window.elementSdk.config : defaultConfig;
        const surfaceColor = config.surface_color || defaultConfig.surface_color;
        const textColor = config.text_color || defaultConfig.text_color;
        const primaryColor = config.primary_action_color || defaultConfig.primary_action_color;
        const customFont = config.font_family || defaultConfig.font_family;
        const baseFontStack = '-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif';
        const baseSize = config.font_size || defaultConfig.font_size;
        
        return `
          <div class="product-card rounded-xl shadow-lg overflow-hidden" style="background: ${surfaceColor};">
            <div class="text-8xl text-center py-8" style="background: linear-gradient(135deg, ${surfaceColor}ee 0%, ${surfaceColor}dd 100%);">${product.image}</div>
            <div class="p-4">
              <h3 class="font-semibold mb-2" style="color: ${textColor}; font-family: ${customFont}, ${baseFontStack}; font-size: ${baseSize * 1.125}px;">${product.name}</h3>
              <p class="font-bold mb-3" style="color: ${primaryColor}; font-family: ${customFont}, ${baseFontStack}; font-size: ${baseSize * 1.25}px;">$${product.price}</p>
              <button onclick="addToCart('${product.id}')" class="w-full py-2 rounded-lg text-white font-semibold transition-opacity hover:opacity-90" style="background: ${primaryColor}; font-family: ${customFont}, ${baseFontStack}; font-size: ${baseSize}px;">Add to Cart</button>
            </div>
          </div>
        `;
      }).join('');
    }
    
    function renderCart() {
      const cartItemsContainer = document.getElementById('cart-items');
      const config = window.elementSdk ? window.elementSdk.config : defaultConfig;
      const textColor = config.text_color || defaultConfig.text_color;
      const primaryColor = config.primary_action_color || defaultConfig.primary_action_color;
      const customFont = config.font_family || defaultConfig.font_family;
      const baseFontStack = '-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif';
      const baseSize = config.font_size || defaultConfig.font_size;
      
      if (cart.length === 0) {
        cartItemsContainer.innerHTML = `<p class="text-center py-8" style="color: ${textColor}; font-family: ${customFont}, ${baseFontStack}; font-size: ${baseSize}px;">Your cart is empty</p>`;
      } else {
        cartItemsContainer.innerHTML = cart.map(item => `
          <div class="flex items-center gap-4 mb-4 pb-4 border-b" style="border-color: #e5e7eb;">
            <div class="text-4xl">${item.image}</div>
            <div class="flex-1">
              <h3 class="font-semibold" style="color: ${textColor}; font-family: ${customFont}, ${baseFontStack}; font-size: ${baseSize}px;">${item.name}</h3>
              <p style="color: ${primaryColor}; font-family: ${customFont}, ${baseFontStack}; font-size: ${baseSize * 0.875}px;">$${item.price}</p>
            </div>
            <div class="flex items-center gap-2">
              <button onclick="updateQuantity('${item.id}', -1)" class="w-8 h-8 rounded-full font-bold" style="background: #e5e7eb; color: ${textColor};">-</button>
              <span style="color: ${textColor}; font-family: ${customFont}, ${baseFontStack}; font-size: ${baseSize}px;">${item.quantity}</span>
              <button onclick="updateQuantity('${item.id}', 1)" class="w-8 h-8 rounded-full text-white font-bold" style="background: ${primaryColor};">+</button>
            </div>
            <button onclick="removeFromCart('${item.id}')" class="text-2xl" style="color: #ef4444;">Ã—</button>
          </div>
        `).join('');
      }
      
      const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
      document.getElementById('cart-total').textContent = `$${total.toFixed(2)}`;
      document.getElementById('cart-total').style.color = primaryColor;
      document.getElementById('cart-total').style.fontFamily = `${customFont}, ${baseFontStack}`;
      document.getElementById('cart-total').style.fontSize = `${baseSize * 1.5}px`;
      
      updateCartCount();
    }
    
    function updateCartCount() {
      const count = cart.reduce((sum, item) => sum + item.quantity, 0);
      const badge = document.getElementById('cart-count');
      badge.textContent = count;
      badge.classList.add('cart-badge');
      setTimeout(() => badge.classList.remove('cart-badge'), 300);
    }
    
    function showToast(message) {
      const toast = document.createElement('div');
      const config = window.elementSdk ? window.elementSdk.config : defaultConfig;
      const surfaceColor = config.surface_color || defaultConfig.surface_color;
      const textColor = config.text_color || defaultConfig.text_color;
      const secondaryColor = config.secondary_action_color || defaultConfig.secondary_action_color;
      
      toast.className = 'toast px-6 py-3 rounded-lg shadow-xl';
      toast.style.background = surfaceColor;
      toast.style.color = textColor;
      toast.style.borderLeft = `4px solid ${secondaryColor}`;
      toast.textContent = message;
      document.body.appendChild(toast);
      
      setTimeout(() => {
        toast.style.opacity = '0';
        setTimeout(() => toast.remove(), 300);
      }, 2000);
    }
    
    window.addToCart = async function(productId) {
      if (cartRecords.length >= 999) {
        showToast('Cart limit reached (999 items)');
        return;
      }
      
      const product = products.find(p => p.id === productId);
      const existingItem = cart.find(item => item.id === productId);
      
      if (existingItem) {
        existingItem.quantity += 1;
        const record = cartRecords.find(r => r.product_id === productId);
        if (record) {
          record.quantity = existingItem.quantity;
          const updateBtn = document.getElementById('cart-button');
          updateBtn.style.opacity = '0.5';
          const result = await window.dataSdk.update(record);
          updateBtn.style.opacity = '1';
          
          if (!result.isOk) {
            showToast('Failed to update cart');
          }
        }
      } else {
        cart.push({
          id: product.id,
          name: product.name,
          price: product.price,
          image: product.image,
          quantity: 1
        });
        
        const createBtn = document.getElementById('cart-button');
        createBtn.style.opacity = '0.5';
        const result = await window.dataSdk.create({
          id: `cart_${Date.now()}_${Math.random()}`,
          product_id: product.id,
          quantity: 1,
          timestamp: new Date().toISOString()
        });
        createBtn.style.opacity = '1';
        
        if (!result.isOk) {
          showToast('Failed to add to cart');
          cart.pop();
        }
      }
      
      renderCart();
      showToast(`${product.name} added to cart!`);
    };
    
    window.updateQuantity = async function(productId, change) {
      const item = cart.find(i => i.id === productId);
      if (!item) return;
      
      const newQuantity = item.quantity + change;
      if (newQuantity <= 0) {
        removeFromCart(productId);
        return;
      }
      
      item.quantity = newQuantity;
      const record = cartRecords.find(r => r.product_id === productId);
      if (record) {
        record.quantity = newQuantity;
        const result = await window.dataSdk.update(record);
        if (!result.isOk) {
          showToast('Failed to update quantity');
          item.quantity -= change;
        }
      }
      
      renderCart();
    };
    
    window.removeFromCart = async function(productId) {
      const record = cartRecords.find(r => r.product_id === productId);
      if (record) {
        const result = await window.dataSdk.delete(record);
        if (!result.isOk) {
          showToast('Failed to remove item');
          return;
        }
      }
      
      cart = cart.filter(item => item.id !== productId);
      renderCart();
      showToast('Item removed from cart');
    };
    
    // Event listeners
    document.getElementById('cart-button').addEventListener('click', () => {
      document.getElementById('cart-modal').classList.remove('hidden');
    });
    
    document.getElementById('close-cart').addEventListener('click', () => {
      document.getElementById('cart-modal').classList.add('hidden');
    });
    
    document.getElementById('checkout-button').addEventListener('click', () => {
      if (cart.length === 0) {
        showToast('Your cart is empty');
        return;
      }
      document.getElementById('cart-modal').classList.add('hidden');
      document.getElementById('checkout-modal').classList.remove('hidden');
    });
    
    document.getElementById('cancel-checkout').addEventListener('click', () => {
      document.getElementById('checkout-modal').classList.add('hidden');
    });
    
    document.getElementById('checkout-form').addEventListener('submit', async (e) => {
      e.preventDefault();
      
      const submitBtn = e.target.querySelector('button[type="submit"]');
      submitBtn.disabled = true;
      submitBtn.textContent = 'Processing...';
      
      // Simulate order processing
      await new Promise(resolve => setTimeout(resolve, 1500));
      
      // Clear cart
      for (const record of cartRecords) {
        await window.dataSdk.delete(record);
      }
      cart = [];
      
      document.getElementById('checkout-modal').classList.add('hidden');
      document.getElementById('checkout-form').reset();
      submitBtn.disabled = false;
      submitBtn.textContent = 'Complete Order';
      
      renderCart();
      showToast('Order placed successfully! ðŸŽ‰');
    });
    
    document.querySelectorAll('.category-filter').forEach(btn => {
      btn.addEventListener('click', () => {
        currentCategory = btn.dataset.category;
        document.querySelectorAll('.category-filter').forEach(b => {
          const config = window.elementSdk ? window.elementSdk.config : defaultConfig;
          const surfaceColor = config.surface_color || defaultConfig.surface_color;
          const textColor = config.text_color || defaultConfig.text_color;
          const primaryColor = config.primary_action_color || defaultConfig.primary_action_color;
          
          if (b.dataset.category === currentCategory) {
            b.style.backgroundColor = primaryColor;
            b.style.color = surfaceColor;
          } else {
            b.style.backgroundColor = '#e5e7eb';
            b.style.color = textColor;
          }
        });
        renderProducts();
      });
    });
    
    document.getElementById('cta-button').addEventListener('click', () => {
      document.getElementById('products-grid').scrollIntoView({ behavior: 'smooth' });
    });
    
    document.querySelectorAll('.category-card').forEach(card => {
      card.addEventListener('click', () => {
        const category = card.dataset.category;
        currentCategory = category;
        
        // Update filter buttons
        document.querySelectorAll('.category-filter').forEach(b => {
          const config = window.elementSdk ? window.elementSdk.config : defaultConfig;
          const surfaceColor = config.surface_color || defaultConfig.surface_color;
          const textColor = config.text_color || defaultConfig.text_color;
          const primaryColor = config.primary_action_color || defaultConfig.primary_action_color;
          
          if (b.dataset.category === category) {
            b.style.backgroundColor = primaryColor;
            b.style.color = surfaceColor;
          } else {
            b.style.backgroundColor = '#e5e7eb';
            b.style.color = textColor;
          }
        });
        
        renderProducts();
        document.getElementById('products-grid').scrollIntoView({ behavior: 'smooth' });
      });
    });
    
    // Data SDK handler
    const dataHandler = {
      onDataChanged(data) {
        cartRecords = data;
        cart = [];
        
        data.forEach(record => {
          const product = products.find(p => p.id === record.product_id);
          if (product) {
            cart.push({
              id: product.id,
              name: product.name,
              price: product.price,
              image: product.image,
              quantity: record.quantity
            });
          }
        });
        
        renderCart();
      }
    };
    
    // Initialize
    async function init() {
      const dataResult = await window.dataSdk.init(dataHandler);
      if (!dataResult.isOk) {
        console.error('Failed to initialize data SDK');
      }
      
      window.elementSdk.init({
        defaultConfig,
        onConfigChange,
        mapToCapabilities: (config) => ({
          recolorables: [
            {
              get: () => config.background_color || defaultConfig.background_color,
              set: (value) => {
                config.background_color = value;
                window.elementSdk.setConfig({ background_color: value });
              }
            },
            {
              get: () => config.surface_color || defaultConfig.surface_color,
              set: (value) => {
                config.surface_color = value;
                window.elementSdk.setConfig({ surface_color: value });
              }
            },
            {
              get: () => config.text_color || defaultConfig.text_color,
              set: (value) => {
                config.text_color = value;
                window.elementSdk.setConfig({ text_color: value });
              }
            },
            {
              get: () => config.primary_action_color || defaultConfig.primary_action_color,
              set: (value) => {
                config.primary_action_color = value;
                window.elementSdk.setConfig({ primary_action_color: value });
              }
            },
            {
              get: () => config.secondary_action_color || defaultConfig.secondary_action_color,
              set: (value) => {
                config.secondary_action_color = value;
                window.elementSdk.setConfig({ secondary_action_color: value });
              }
            }
          ],
          borderables: [],
          fontEditable: {
            get: () => config.font_family || defaultConfig.font_family,
            set: (value) => {
              config.font_family = value;
              window.elementSdk.setConfig({ font_family: value });
            }
          },
          fontSizeable: {
            get: () => config.font_size || defaultConfig.font_size,
            set: (value) => {
              config.font_size = value;
              window.elementSdk.setConfig({ font_size: value });
            }
          }
        }),
        mapToEditPanelValues: (config) => new Map([
          ['store_name', config.store_name || defaultConfig.store_name],
          ['tagline', config.tagline || defaultConfig.tagline],
          ['cta_button', config.cta_button || defaultConfig.cta_button]
        ])
      });
      
      renderProducts();
    }
    
    init();
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9b091b28a14c5520',t:'MTc2NjE3MDQ0MS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
